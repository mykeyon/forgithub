<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <div id = "app">
      <audio autoplay controls :src="getCurrentSongSrc"></audio>
      <ul>
        <li
          v-for = "(item, index) in musicData"
          @click = "clickHandler(index)"
          >
            <h2>{{ item.id }} 歌名{{ item.name }}</h2>
            <p>歌手： {{ item.author }}</p>
        </li>
      </ul>
    </div>
  </body>
  <script src="./../lib/vue.js" charset="utf-8"></script>
  <script type="text/javascript">
  let musicData = [
    {id:1,name:"飞",author: "ANU", songSrc:'./../music/飞.mp3'},
    {id:2,name:"可不可以",author: "张紫豪", songSrc:'./../music/可不可以.mp3'},
    {id:3,name:"狂浪",author: "花姐", songSrc:'./../music/狂浪.mp3'},
    {id:4,name:"你的酒馆对我打了烊",author: "陈雪凝", songSrc:'./../music/你的酒馆对我打了烊.mp3'},
    {id:5,name:"往后余生",author: "马良、孙茜茹", songSrc:'./../music/往后余生.mp3'},
    {id:6,name:"有人",author: "赵柯", songSrc:'./../music/有人.mp3'},
  ];
  new Vue({
    el: "#app",
    data(){
      return{
        musicData: musicData,
        songIndex: 0
      }
    },
    computed: {
      getCurrentSongSrc: function(){
        return this.musicData[this.songIndex].songSrc
      }
    },
    methods: {
      clickHandler: function(value){
        this.songIndex = value
      }
    }
  })
  </script>
</html>
